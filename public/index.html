
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="atg API demo">
    <meta name="author" content="Austin Turner">
    <link rel="icon" href="../../favicon.ico">

    <title>atg API Workshop</title>

    <!-- Bootstrap core CSS -->
    <link href="/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://www.atginfo.com" target="_blank">
              <img alt="Brand" src="/images/ATG_Logo.png" height="40px">
          </a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
              <li><a href="https://github.com/paustint/api-demo" target="_blank" ><img src="/images/github_icon.png" alt="view on gtihub" width="30px" height="30px" title="View project on github"> View on Github</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    

    <div class="jumbotron">
        <div class="container">
            <h1>API Workshop</h1>
            <p class="lead">
                Reference material for API workshop.<br>
                <strong>Author:</strong> Austin Turner - <a href="mailto:austin.turner@atginfo.com">austin.turner@atginfo.com</a><br>
                <strong>Updated:</strong> 2016-10-28<br>
            </p>
        </div>
    </div>
    <div class="container">
      <div>

        <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" class="active"><a href="#Endpoints" aria-controls="Endpoints" role="tab" data-toggle="tab">Endpoints</a></li>
            <li role="presentation"><a href="#Models" aria-controls="Models" role="tab" data-toggle="tab">Data Models</a></li>
        </ul>

  <!-- Tab panes -->
  <div class="tab-content">
    <div role="tabpanel" class="tab-pane active" id="Endpoints">
        
        <p class="lead">
            All endpoints start with the base URL of <code>https://atg-api-demo.herokuapp.com/</code><br>
            All parameters with curly brackets <code>{}</code> should be replaced with actual value<br>
            <code>{name}</code> is an arbitrary name set by the user, such as your first or last name<br>
            The <code>{name}</code> parameter is optional and will sandbox the actions to just results with that prefix<br>
            For example, to get ALL customers, call <code>/api/customer</code> instead of <code>/api/{name}/customer</code>
        </p>


        <!--Customer API-->
        <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
            <div class="panel panel-default">
                <div class="panel-heading" role="tab">
                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#customer-endpoints" aria-expanded="true" aria-controls="customer-endpoints">
                        <h3 class="panel-title">Customer</h3>
                    </a>
                </div>
                <div id="customer-endpoints" class="panel-collapse collapse in" role="tabpanel">
                <div class="panel-body">
                    <ul class="list-group">
                        <li class="list-group-item">
                            <span class="label label-success">GET</span><strong> /api/{name}/customer</strong>
                        </li>
                        <li class="list-group-item">
                            <span class="label label-success">GET</span> <strong>/api/{name}/customer/{id}</strong>
                        </li>
                        <li class="list-group-item">
                            <span class="label label-info">POST</span> <strong>/api/{name}/customer</strong>
                            <br>Payload Example:<br>               
<pre>{
    "firstName": "jack",
    "lastName": "johnson",
    "email": "test@test1.com"
}</pre>
                    </li>
                    <li class="list-group-item">
                        <span class="label label-warning">PUT</span> <strong>/api/{name}/customer/{id}</strong>
                        <br>Valid PUT Fields:<br>
                        <code>["firstName","lastName","email","phone"]</code>
                        <br>Payload Example:<br>
<pre>{
    "firstName": "john",
    "lastName": "johnston",
    "email": "test@test2.com"
}</pre>                    
                        </li>
                        <li class="list-group-item">
                            <span class="label label-danger">DELETE</span> <strong>/api/{name}/customer/{id}</strong>
                        </li>
                    </ul>
                    
                    </div>
                </div>
            </div>


<!--Product API-->
<div class="panel panel-default">
                <div class="panel-heading" role="tab">
                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#product-endpoints" aria-expanded="true" aria-controls="product-endpoints">
                        <h3 class="panel-title">Product</h3>
                    </a>
                </div>
                <div id="product-endpoints" class="panel-collapse collapse in" role="tabpanel">
                <div class="panel-body">
                    <ul class="list-group">
                        <li class="list-group-item">
                            <span class="label label-success">GET</span><strong> /api/{name}/product</strong>
                        </li>
                        <li class="list-group-item">
                            <span class="label label-success">GET</span> <strong>/api/{name}/product/{id}</strong>
                        </li>
                        <li class="list-group-item">
                            <span class="label label-info">POST</span> <strong>/api/{name}/product</strong>
                            <br>Payload Example:<br>               
<pre>{
  "name": "Test Product",
  "description": "This is a cool product",
  "sku": "COOL1234",
  "price": 0.01,
  "active": true,
  "createdBy": "Admin
}</pre>
                    </li>
                    <li class="list-group-item">
                        <span class="label label-warning">PUT</span> <strong>/api/{name}/product/{id}</strong>
                        <br>Valid PUT Fields:<br>
                        <code>["name","description","sku","price","active"]</code>
                        <br>Payload Example:<br>
<pre>{
  "name": "Test Product",
  "description": "This is a cool product description and is updated",
  "sku": "COOL12345",
  "price": 0.02,
  "active": false
}</pre>                    
                        </li>
                        <li class="list-group-item">
                            <span class="label label-danger">DELETE</span> <strong>/api/{name}/product/{id}</strong>
                        </li>
                    </ul>
                    
                    </div>
                </div>
            </div>



<!--ORder API-->
<div class="panel panel-default">
                <div class="panel-heading" role="tab">
                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#order-endpoints" aria-expanded="true" aria-controls="order-endpoints">
                        <h3 class="panel-title">Order</h3>
                    </a>
                </div>
                <div id="order-endpoints" class="panel-collapse collapse in" role="tabpanel">
                <div class="panel-body">
                    <ul class="list-group">
                        <li class="list-group-item">
                            <span class="label label-success">GET</span><strong> /api/{name}/product</strong>
                            <br>Query Parameters:<br> 
                            <code>full=true</code> returns full product information if true
                        </li>
                        <li class="list-group-item">
                            <span class="label label-success">GET</span> <strong>/api/{name}/product/{id}</strong>
                            <br>Query Parameters:<br> 
                            <code>full=true</code> returns full product information if true
                        </li>
                        <li class="list-group-item">
                            <span class="label label-info">POST</span> <strong>/api/{name}/product</strong>
                            <br>Payload Example:<br>               
<pre>{
  "customer": "5806e2a1759fd9ad7a1f60eb",
  "products": [
  	{
		"product": "5806e7e3d0073cb4d2946aad",
		"customerPrice": 100,
		"notes": "Customer has an overriden price on this product"
	},
	{
		"product": "5806e7e3d007425fdb4d2946aad"
	}
  ],
  "notes": "some optional order notes"
}</pre>
                    </li>
                    <li class="list-group-item">
                        <span class="label label-warning">PUT</span> <strong>/api/{name}/product/{id}</strong>
                        <br>Valid PUT Fields:<br>
                        <code>['shipped', 'notes', 'status']</code>
                        <br>Payload Example:<br>
<pre>{
  "notes": "Notes for an order can be updated"
}</pre>                    
                        </li>
                        <li class="list-group-item">
                            <span class="label label-danger">DELETE</span> <strong>/api/{name}/product/{id}</strong>
                        </li>
                    </ul>
                    
                    </div>
                </div>
            </div> 
            <!--End order-->
        </div>

    </div>
    <div role="tabpanel" class="tab-pane" id="Models">

        <!--        MODELS      -->

        <p class="lead">
            All models have an <code>_id</code> parameter<br>
            All models have <code>createdAt</code> and <code>updatedAt</code> parameters that are set automatically by the system
        </p>
        <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">


            <div class="panel panel-default">
                <div class="panel-heading" role="tab">
                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#customer-model" aria-expanded="true" aria-controls="customer-model">
                        <h3 class="panel-title">Customer</h3>
                    </a>
                </div>
                <div id="customer-model" class="panel-collapse collapse in" role="tabpanel">
                    <div class="panel-body">              
<pre>firstName: String
lastName: String
email: String
phone: String
createdBy: String (optional)
user: String (set by {name} parameter)
</pre>
                    
                    </div>
                </div>
            </div>



            <div class="panel panel-default">
                <div class="panel-heading" role="tab">
                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#product-model" aria-expanded="true" aria-controls="product-model">
                        <h3 class="panel-title">Product</h3>
                    </a>
                </div>
                <div id="product-model" class="panel-collapse collapse in" role="tabpanel">
                    <div class="panel-body">              
<pre>name: String
description: String
sku: String, unique: true
price: Number
active: Boolean, default: true
discontinuedDate: Date
createdBy: String (optional)
user: String (set by {name} parameter)
</pre>
                    
                    </div>
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading" role="tab">
                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#order-model" aria-expanded="true" aria-controls="order-model">
                        <h3 class="panel-title">Order</h3>
                    </a>
                </div>
                <div id="order-model" class="panel-collapse collapse in" role="tabpanel">
                    <div class="panel-body">              
<pre>customer: ObjectId, ref: Customer
products: [{
    product: ObjectId, ref: Product
    quantity: Number, default: 1
    originalPrice: Number
    customerPrice: Number
    priceOverride: Boolean, default: false
    notes: String
}],
notes: String
status: String, default: "Created, Not Shipped"
orderDate: Date
shippedDate: Date, default: null
shipped: Boolean, default: false
total: Number, default: 0.00
createdBy: String (optional)
user: String (set by {name} parameter)
</pre>
                    
                    </div>
                </div>
            </div>

</div>


    </div>
  </div>
      </div>
    </div><!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/bootstrap/js/tab.js"></script>
  </body>
</html>
